<div class="row">
	<div class="col-md-8"> 
		<div class="table-responsive"> 
			<table class="table">
				<tr>
					<th>First Name</th>
					<th>Last Name</th>
					<th>WatIAM ID</th>
					<th>Role</th>
					<th>Program</th>
					<th>Term</th>
					<th>Year of Graduation</th>
					<th>Email</th>
				</tr>
				<% @users.each do |user| %>
					<tr class="user_row clickable-row" id="user_<%= user.username %>" data="<%= user.username %>" onclick="inputusername('<%= user.username %>');">
						<td><%= user.firstname %></td>
						<td><%= user.lastname %></td>
						<td><%= user.username %></td>
						<td><%= user.role.name %></td>
						<% if user.program %>
							<td><%= Program.find_by_id(user.program).name %></td>
						<% else %>
							<td></td>
						<% end %> 
						<td><%= user.term %></td>
						<td><%= user.year %></td>
						<td><%= user.email %></td>
					</tr>		
				<% end %>
			</table>
		</div>
	</div>
	<div class="col-md-4">	
		<div class="row">
			<div class="col-xs-4">
				<div id="add-user-button" class="button-frame vert-space" onclick="showadd()">
					Add Users
				</div>
			</div>
			<div class="col-xs-4">
				<div id="remove-user-button" class="button-frame vert-space" onclick="showremove()">
					Remove User
				</div>
			</div>
			<div class="col-xs-4">
				<div id="change-roles-button" class="button-frame vert-space" onclick="showroles()">
					Change Role
				</div>
			</div>
		</div>
		<div class="panel">
			<div id="add-user-panel" class="container">
				<h3>Add Users</h3>
				<%= form_for @user, :url => add_user_path do |f| %>
					<% if flash[:user_notice] %>
						<div class="notice"><%= flash[:user_notice] %></div>
					<% end %>

					<%= f.label :username, :class => "control-label" %>
					<div class="controls">
						<%= f.text_field :username %>
					</div>

					<%= f.label :role, :class => "control-label" %>
					<div class="controls">
						<%= f.collection_select(:role_id, Role.all, :id, :name) %>
					</div>

					<div class="control-group" style="padding: 10px;">
						<div class="controls">
							<%= f.submit "Add User", :class => "btn btn-large btn-primary" %>
						</div>
					</div>
				<% end %>
			</div>
		
			<div id="remove-user-panel" class="container">
			<h3>Remove Users</h3>
				<%= form_for @user, :url => remove_user_path, html: {:onsubmit => "return confirm('Do you really want to delete this user?');"}  do |f| %>
					<%= f.label :username, :class => "control-label" %>
					<div class="controls">
						<%= f.text_field :username, :class => "username-input", :enabled => false %>
					</div>

					<div class="control-group" style="padding: 10px;">
						<div class="controls">
							<%= f.submit "Remove User", :class => "btn btn-large btn-primary" %>
						</div>
					</div>
				<% end %>
			</div>

			<div id="change-roles-panel" class="container">
			<h3>Change Roles</h3>
				<%= form_for @user, :url => update_role_path, :onsubmit => "return confirm('Are you sure you want to change the user roles?');" do |f| %>
					<%= f.label :username, :class => "control-label" %>
					<div class="controls">
						<%= f.text_field :username, :class => "username-input", :enabled => false %>
					</div>

					<%= f.label :role, :class => "control-label" %>
					<div class="controls">
						<%= f.collection_select(:role_id, Role.all, :id, :name) %>
					</div>

					<div class="control-group" style="padding: 10px;">
						<div class="controls">
							<%= f.submit "Update Roles", :class => "btn btn-large btn-primary" %>
						</div>
					</div>
				<% end %>
			</div>
		</div>
	</div>
</div>